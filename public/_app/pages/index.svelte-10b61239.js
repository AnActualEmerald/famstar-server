import{S as me,i as pe,s as ge,G as Je,e as D,k as N,c as w,a as k,m as M,d as b,b as _,f as ct,g as G,I as h,N as L,J as Qe,K as Ze,L as xe,q as A,o as C,O as $e,P as dt,v as et,Q as mt,t as R,h as z,E as pt,R as Fe,T as gt,w as ue,x as Ae,y as ce,j as Le,U as Ce,n as te,p as ne,V as he,W as ht,B as de,X as _t,Y as ee,M as $,Z as ke,l as Ne,_ as Me,$ as vt,a0 as Se,a1 as bt,a2 as yt}from"../chunks/index-3329c335.js";import{w as je}from"../chunks/index-ba76ad20.js";const Te=je(""),we=je("");function _e(t,e,n,l){function s(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function a(m){try{c(l.next(m))}catch(o){i(o)}}function f(m){try{c(l.throw(m))}catch(o){i(o)}}function c(m){m.done?r(m.value):s(m.value).then(a,f)}c((l=l.apply(t,e||[])).next())})}function ve(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},l,s,r,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(m){return f([c,m])}}function f(c){if(l)throw new TypeError("Generator is already executing.");for(;n;)try{if(l=1,s&&(r=c[0]&2?s.return:c[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,c[1])).done)return r;switch(s=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){n.label=c[1];break}if(c[0]===6&&n.label<r[1]){n.label=r[1],r=c;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(c);break}r[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(m){c=[6,m],s=0}finally{l=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Et(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var l=n.call(t),s,r=[],i;try{for(;(e===void 0||e-- >0)&&!(s=l.next()).done;)r.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return r}function Dt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Et(arguments[e]));return t}var wt=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Ie(t,e){var n=Ft(t);if(typeof n.path!="string"){var l=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof l=="string"&&l.length>0?l:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Ft(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var l=e.split(".").pop().toLowerCase(),s=wt.get(l);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}var kt=[".DS_Store","Thumbs.db"];function Tt(t){return _e(this,void 0,void 0,function(){return ve(this,function(e){return[2,At(t)&&t.dataTransfer?Pt(t.dataTransfer,t.type):It(t)]})})}function At(t){return!!t.dataTransfer}function It(t){var e=St(t.target)?t.target.files?Oe(t.target.files):[]:[];return e.map(function(n){return Ie(n)})}function St(t){return t!==null}function Pt(t,e){return _e(this,void 0,void 0,function(){var n,l;return ve(this,function(s){switch(s.label){case 0:return t.items?(n=Oe(t.items).filter(function(r){return r.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(Ot))]):[3,2];case 1:return l=s.sent(),[2,Be(tt(l))];case 2:return[2,Be(Oe(t.files).map(function(r){return Ie(r)}))]}})})}function Be(t){return t.filter(function(e){return kt.indexOf(e.name)===-1})}function Oe(t){for(var e=[],n=0;n<t.length;n++){var l=t[n];e.push(l)}return e}function Ot(t){if(typeof t.webkitGetAsEntry!="function")return Re(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?nt(e):Re(t)}function tt(t){return t.reduce(function(e,n){return Dt(e,Array.isArray(n)?tt(n):[n])},[])}function Re(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Ie(e);return Promise.resolve(n)}function Lt(t){return _e(this,void 0,void 0,function(){return ve(this,function(e){return[2,t.isDirectory?nt(t):Ct(t)]})})}function nt(t){var e=t.createReader();return new Promise(function(n,l){var s=[];function r(){var i=this;e.readEntries(function(a){return _e(i,void 0,void 0,function(){var f,c,m;return ve(this,function(o){switch(o.label){case 0:if(a.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return f=o.sent(),n(f),[3,4];case 3:return c=o.sent(),l(c),[3,4];case 4:return[3,6];case 5:m=Promise.all(a.map(Lt)),s.push(m),r(),o.label=6;case 6:return[2]}})})},function(a){l(a)})}r()})}function Ct(t){return _e(this,void 0,void 0,function(){return ve(this,function(e){return[2,new Promise(function(n,l){t.file(function(s){var r=Ie(s,t.fullPath);n(r)},function(s){l(s)})})]})})}function jt(t,e){if(t&&e){const n=Array.isArray(e)?e:e.split(","),l=t.name||"",s=(t.type||"").toLowerCase(),r=s.replace(/\/.*$/,"");return n.some(i=>{const a=i.trim().toLowerCase();return a.charAt(0)==="."?l.toLowerCase().endsWith(a):a.endsWith("/*")?r===a.replace(/\/.*$/,""):s===a})}return!0}const Nt="file-invalid-type",Mt="file-too-large",Bt="file-too-small",Rt="too-many-files",zt=t=>{t=Array.isArray(t)&&t.length===1?t[0]:t;const e=Array.isArray(t)?`one of ${t.join(", ")}`:t;return{code:Nt,message:`File type must be ${e}`}},ze=t=>({code:Mt,message:`File is larger than ${t} bytes`}),Ke=t=>({code:Bt,message:`File is smaller than ${t} bytes`}),Kt={code:Rt,message:"Too many files"};function qt(t,e){const n=t.type==="application/x-moz-file"||jt(t,e);return[n,n?null:zt(e)]}function Gt(t,e,n){if(fe(t.size))if(fe(e)&&fe(n)){if(t.size>n)return[!1,ze(n)];if(t.size<e)return[!1,Ke(e)]}else{if(fe(e)&&t.size<e)return[!1,Ke(e)];if(fe(n)&&t.size>n)return[!1,ze(n)]}return[!0,null]}function fe(t){return t!=null}function qe(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble!="undefined"?t.cancelBubble:!1}function De(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!t.target&&!!t.target.files}function Ge(t){t.preventDefault()}function Wt(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Ut(t){return t.indexOf("Edge/")!==-1}function Vt(t=window.navigator.userAgent){return Wt(t)||Ut(t)}function Ht(t){let e,n;return{c(){e=D("p"),n=R("Drag 'n' drop some files here, or click to select files")},l(l){e=w(l,"P",{});var s=k(e);n=z(s,"Drag 'n' drop some files here, or click to select files"),s.forEach(b)},m(l,s){G(l,e,s),h(e,n)},p:pt,d(l){l&&b(e)}}}function Yt(t){let e,n,l,s,r,i,a;const f=t[28].default,c=Je(f,t,t[27],null),m=c||Ht();return{c(){e=D("div"),n=D("input"),l=N(),m&&m.c(),this.h()},l(o){e=w(o,"DIV",{tabindex:!0,class:!0,style:!0});var d=k(e);n=w(d,"INPUT",{accept:!0,type:!0,autocomplete:!0,tabindex:!0,style:!0}),l=M(d),m&&m.l(d),d.forEach(b),this.h()},h(){_(n,"accept",t[0]),n.multiple=t[1],_(n,"type","file"),_(n,"autocomplete","off"),_(n,"tabindex","-1"),ct(n,"display","none"),_(e,"tabindex","0"),_(e,"class",s=(t[4]?"":"dropzone")+" "+t[2]+" svelte-817dg2"),_(e,"style",t[3])},m(o,d){G(o,e,d),h(e,n),t[29](n),h(e,l),m&&m.m(e,null),t[30](e),r=!0,i||(a=[L(n,"change",t[14]),L(n,"click",Xt),L(e,"keydown",t[16](t[7])),L(e,"focus",t[16](t[8])),L(e,"blur",t[16](t[9])),L(e,"click",t[15](t[10])),L(e,"dragenter",t[17](t[11])),L(e,"dragover",t[17](t[12])),L(e,"dragleave",t[17](t[13])),L(e,"drop",t[17](t[14]))],i=!0)},p(o,d){(!r||d[0]&1)&&_(n,"accept",o[0]),(!r||d[0]&2)&&(n.multiple=o[1]),c&&c.p&&(!r||d[0]&134217728)&&Qe(c,f,o,o[27],r?xe(f,o[27],d,null):Ze(o[27]),null),(!r||d[0]&20&&s!==(s=(o[4]?"":"dropzone")+" "+o[2]+" svelte-817dg2"))&&_(e,"class",s),(!r||d[0]&8)&&_(e,"style",o[3])},i(o){r||(A(m,o),r=!0)},o(o){C(m,o),r=!1},d(o){o&&b(e),t[29](null),m&&m.d(o),t[30](null),i=!1,$e(a)}}}function Xt(t){t.stopPropagation()}function Jt(t,e,n){let{$$slots:l={},$$scope:s}=e,{accept:r}=e,{disabled:i=!1}=e,{getFilesFromEvent:a=Tt}=e,{maxSize:f=1/0}=e,{minSize:c=0}=e,{multiple:m=!0}=e,{preventDropOnDocument:o=!0}=e,{noClick:d=!1}=e,{noKeyboard:g=!1}=e,{noDrag:p=!1}=e,{noDragEventsBubbling:v=!1}=e,{containerClasses:y=""}=e,{containerStyles:E=""}=e,{disableDefaultStyles:I=!1}=e;const B=dt();let F={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},P,K;function J(){F.isFileDialogActive=!1,F.isDragActive=!1,F.draggedFiles=[],F.acceptedFiles=[],F.fileRejections=[]}function H(){K&&(n(6,K.value=null,K),F.isFileDialogActive=!0,K.click())}function re(u){!P||!P.isEqualNode(u.target)||(u.keyCode===32||u.keyCode===13)&&(u.preventDefault(),H())}function ie(){F.isFocused=!0}function W(){F.isFocused=!1}function se(){d||(Vt()?setTimeout(H,0):H())}function Q(u){u.preventDefault(),Y(u),U=[...U,u.target],De(u)&&Promise.resolve(a(u)).then(q=>{qe(u)&&!v||(F.draggedFiles=q,F.isDragActive=!0,B("dragenter",{dragEvent:u}))})}function ae(u){if(u.preventDefault(),Y(u),u.dataTransfer)try{u.dataTransfer.dropEffect="copy"}catch{}return De(u)&&B("dragover",{dragEvent:u}),!1}function be(u){u.preventDefault(),Y(u);const q=U.filter(X=>P&&P.contains(X)),j=q.indexOf(u.target);j!==-1&&q.splice(j,1),U=q,!(q.length>0)&&(F.isDragActive=!1,F.draggedFiles=[],De(u)&&B("dragleave",{dragEvent:u}))}function T(u){u.preventDefault(),Y(u),U=[],De(u)&&Promise.resolve(a(u)).then(q=>{if(qe(u)&&!v)return;const j=[],X=[];q.forEach(x=>{const[st,at]=qt(x,r),[lt,ot]=Gt(x,c,f);if(st&&lt)j.push(x);else{const ft=[at,ot].filter(ut=>ut);X.push({file:x,errors:ft})}}),!m&&j.length>1&&(j.forEach(x=>{X.push({file:x,errors:[Kt]})}),j.splice(0)),F.acceptedFiles=j,F.fileRejections=X,B("drop",{acceptedFiles:j,fileRejections:X,event:u}),X.length>0&&B("droprejected",{fileRejections:X,event:u}),j.length>0&&B("dropaccepted",{acceptedFiles:j,event:u})}),J()}function O(u){return i?null:u}function S(u){return g?null:O(u)}function ye(u){return p?null:O(u)}function Y(u){v&&u.stopPropagation()}let U=[];function Z(u){P&&P.contains(u.target)||(u.preventDefault(),U=[])}function le(){F.isFileDialogActive&&setTimeout(()=>{if(K){const{files:u}=K;u.length||(F.isFileDialogActive=!1,B("filedialogcancel"))}},300)}et(()=>{window.addEventListener("focus",le,!1),o&&(document.addEventListener("dragover",Ge,!1),document.addEventListener("drop",Z,!1))}),mt(()=>{window.removeEventListener("focus",le,!1),o&&(document.removeEventListener("dragover",Ge),document.removeEventListener("drop",Z))});function oe(u){Fe[u?"unshift":"push"](()=>{K=u,n(6,K)})}function Ee(u){Fe[u?"unshift":"push"](()=>{P=u,n(5,P)})}return t.$$set=u=>{"accept"in u&&n(0,r=u.accept),"disabled"in u&&n(18,i=u.disabled),"getFilesFromEvent"in u&&n(19,a=u.getFilesFromEvent),"maxSize"in u&&n(20,f=u.maxSize),"minSize"in u&&n(21,c=u.minSize),"multiple"in u&&n(1,m=u.multiple),"preventDropOnDocument"in u&&n(22,o=u.preventDropOnDocument),"noClick"in u&&n(23,d=u.noClick),"noKeyboard"in u&&n(24,g=u.noKeyboard),"noDrag"in u&&n(25,p=u.noDrag),"noDragEventsBubbling"in u&&n(26,v=u.noDragEventsBubbling),"containerClasses"in u&&n(2,y=u.containerClasses),"containerStyles"in u&&n(3,E=u.containerStyles),"disableDefaultStyles"in u&&n(4,I=u.disableDefaultStyles),"$$scope"in u&&n(27,s=u.$$scope)},[r,m,y,E,I,P,K,re,ie,W,se,Q,ae,be,T,O,S,ye,i,a,f,c,o,d,g,p,v,s,l,oe,Ee]}class Qt extends me{constructor(e){super(),pe(this,e,Jt,Yt,ge,{accept:0,disabled:18,getFilesFromEvent:19,maxSize:20,minSize:21,multiple:1,preventDropOnDocument:22,noClick:23,noKeyboard:24,noDrag:25,noDragEventsBubbling:26,containerClasses:2,containerStyles:3,disableDefaultStyles:4},null,[-1,-1])}}function rt(t){const e=t-1;return e*e*e+1}function Zt(t,{delay:e=0,duration:n=400,easing:l=rt,x:s=0,y:r=0,opacity:i=0}={}){const a=getComputedStyle(t),f=+a.opacity,c=a.transform==="none"?"":a.transform,m=f*(1-i);return{delay:e,duration:n,easing:l,css:(o,d)=>`
			transform: ${c} translate(${(1-o)*s}px, ${(1-o)*r}px);
			opacity: ${f-m*d}`}}function V(t,{delay:e=0,duration:n=400,easing:l=rt}={}){const s=getComputedStyle(t),r=+s.opacity,i=parseFloat(s.height),a=parseFloat(s.paddingTop),f=parseFloat(s.paddingBottom),c=parseFloat(s.marginTop),m=parseFloat(s.marginBottom),o=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:l,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*r};height: ${g*i}px;padding-top: ${g*a}px;padding-bottom: ${g*f}px;margin-top: ${g*c}px;margin-bottom: ${g*m}px;border-top-width: ${g*o}px;border-bottom-width: ${g*d}px;`}}function xt(t){let e,n,l,s,r;const i=t[2].default,a=Je(i,t,t[1],null);return{c(){e=D("input"),n=N(),a&&a.c(),this.h()},l(f){e=w(f,"INPUT",{class:!0,type:!0}),n=M(f),a&&a.l(f),this.h()},h(){_(e,"class","submit svelte-152hw64"),_(e,"type","button"),e.value="Submit"},m(f,c){G(f,e,c),G(f,n,c),a&&a.m(f,c),l=!0,s||(r=L(e,"click",function(){gt(t[0])&&t[0].apply(this,arguments)}),s=!0)},p(f,[c]){t=f,a&&a.p&&(!l||c&2)&&Qe(a,i,t,t[1],l?xe(i,t[1],c,null):Ze(t[1]),null)},i(f){l||(A(a,f),l=!0)},o(f){C(a,f),l=!1},d(f){f&&b(e),f&&b(n),a&&a.d(f),s=!1,r()}}}function $t(t,e,n){let{$$slots:l={},$$scope:s}=e,{action:r=i=>{}}=e;return t.$$set=i=>{"action"in i&&n(0,r=i.action),"$$scope"in i&&n(1,s=i.$$scope)},[r,s,l]}class it extends me{constructor(e){super(),pe(this,e,$t,xt,ge,{action:0})}}function We(t,e,n){const l=t.slice();return l[9]=e[n],l[10]=e,l[11]=n,l}function Ue(t){let e,n,l,s,r,i,a,f,c,m;n=new it({props:{action:t[3]}});let o=t[0],d=[];for(let p=0;p<o.length;p+=1)d[p]=Ve(We(t,o,p));const g=p=>C(d[p],1,1,()=>{d[p]=null});return{c(){e=D("div"),ue(n.$$.fragment),l=N(),s=D("p"),r=R("Going to send:"),i=N(),a=D("ul");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=w(p,"DIV",{class:!0});var v=k(e);Ae(n.$$.fragment,v),l=M(v),s=w(v,"P",{});var y=k(s);r=z(y,"Going to send:"),y.forEach(b),i=M(v),a=w(v,"UL",{});var E=k(a);for(let I=0;I<d.length;I+=1)d[I].l(E);E.forEach(b),v.forEach(b),this.h()},h(){_(e,"class","svelte-9kmuej")},m(p,v){G(p,e,v),ce(n,e,null),h(e,l),h(e,s),h(s,r),h(e,i),h(e,a);for(let y=0;y<d.length;y+=1)d[y].m(a,null);m=!0},p(p,v){if(v&3){o=p[0];let y;for(y=0;y<o.length;y+=1){const E=We(p,o,y);d[y]?(d[y].p(E,v),A(d[y],1)):(d[y]=Ve(E),d[y].c(),A(d[y],1),d[y].m(a,null))}for(te(),y=o.length;y<d.length;y+=1)g(y);ne()}},i(p){if(!m){A(n.$$.fragment,p);for(let v=0;v<o.length;v+=1)A(d[v]);he(()=>{c&&c.end(1),f=ht(e,V,{}),f.start()}),m=!0}},o(p){C(n.$$.fragment,p),d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)C(d[v]);f&&f.invalidate(),c=Ce(e,V,{}),m=!1},d(p){p&&b(e),de(n),_t(d,p),p&&c&&c.end()}}}function Ve(t){let e,n,l=t[9].name+"",s,r,i=t[11],a,f,c,m,o,d,g;const p=()=>t[4](r,i),v=()=>t[4](null,i);function y(...E){return t[5](t[11],...E)}return{c(){e=D("li"),n=D("span"),s=R(l),r=D("span"),a=D("span"),f=R("X"),c=N(),this.h()},l(E){e=w(E,"LI",{class:!0});var I=k(e);n=w(I,"SPAN",{});var B=k(n);s=z(B,l),B.forEach(b),r=w(I,"SPAN",{class:!0}),k(r).forEach(b),a=w(I,"SPAN",{class:!0});var F=k(a);f=z(F,"X"),F.forEach(b),c=M(I),I.forEach(b),this.h()},h(){_(r,"class","statusText svelte-9kmuej"),_(a,"class","removeButton svelte-9kmuej"),_(e,"class","svelte-9kmuej")},m(E,I){G(E,e,I),h(e,n),h(n,s),h(e,r),p(),h(e,a),h(a,f),h(e,c),o=!0,d||(g=L(a,"click",y),d=!0)},p(E,I){t=E,(!o||I&1)&&l!==(l=t[9].name+"")&&Le(s,l),i!==t[11]&&(v(),i=t[11],p())},i(E){o||(m&&m.end(1),o=!0)},o(E){m=Ce(e,Zt,{duration:1e3,x:1e3}),o=!1},d(E){E&&b(e),v(),E&&m&&m.end(),d=!1,g()}}}function en(t){let e,n,l,s,r;n=new Qt({props:{accept:["image/png","image/jpg"],"container-classes":"dropzone"}}),n.$on("drop",t[2]);let i=t[0].length>0&&Ue(t);return{c(){e=D("div"),ue(n.$$.fragment),l=N(),i&&i.c(),this.h()},l(a){e=w(a,"DIV",{class:!0});var f=k(e);Ae(n.$$.fragment,f),l=M(f),i&&i.l(f),f.forEach(b),this.h()},h(){_(e,"class","container svelte-9kmuej")},m(a,f){G(a,e,f),ce(n,e,null),h(e,l),i&&i.m(e,null),r=!0},p(a,[f]){a[0].length>0?i?(i.p(a,f),f&1&&A(i,1)):(i=Ue(a),i.c(),A(i,1),i.m(e,null)):i&&(te(),C(i,1,1,()=>{i=null}),ne())},i(a){r||(A(n.$$.fragment,a),A(i),a&&he(()=>{s||(s=ee(e,V,{},!0)),s.run(1)}),r=!0)},o(a){C(n.$$.fragment,a),C(i),a&&(s||(s=ee(e,V,{},!1)),s.run(0)),r=!1},d(a){a&&b(e),de(n),i&&i.d(),a&&s&&s.end()}}}function tn(t,e,n){let l;$(t,Te,o=>n(6,l=o));let s=new Array,r=new Array;function i(o){const{acceptedFiles:d}=o.detail;n(0,s=[...s,...d])}function a(o){n(0,s=s.filter(d=>{d.name}))}async function f(o){let d={key:l};s.forEach(async(g,p)=>{const v=new FormData;v.append(g.name,g),fetch("/api/image",{method:"POST",headers:d,body:v}).then(y=>{y.ok?a(g.name):n(1,r[p].innerText=y.statusText,r)})})}function c(o,d){Fe[o?"unshift":"push"](()=>{r[d]=o,n(1,r)})}return[s,r,i,f,c,(o,d)=>n(0,s=s.filter((g,p)=>o!==p))]}class nn extends me{constructor(e){super(),pe(this,e,tn,en,ge,{})}}function He(t){let e,n,l,s,r;n=new it({props:{action:t[2]}});let i=t[1]!==""&&Ye(t);return{c(){e=D("div"),ue(n.$$.fragment),l=N(),i&&i.c()},l(a){e=w(a,"DIV",{});var f=k(e);Ae(n.$$.fragment,f),l=M(f),i&&i.l(f),f.forEach(b)},m(a,f){G(a,e,f),ce(n,e,null),h(e,l),i&&i.m(e,null),r=!0},p(a,f){a[1]!==""?i?(i.p(a,f),f&2&&A(i,1)):(i=Ye(a),i.c(),A(i,1),i.m(e,null)):i&&(te(),C(i,1,1,()=>{i=null}),ne())},i(a){r||(A(n.$$.fragment,a),A(i),a&&he(()=>{s||(s=ee(e,V,{},!0)),s.run(1)}),r=!0)},o(a){C(n.$$.fragment,a),C(i),a&&(s||(s=ee(e,V,{},!1)),s.run(0)),r=!1},d(a){a&&b(e),de(n),i&&i.d(),a&&s&&s.end()}}}function Ye(t){let e,n,l,s;return{c(){e=D("p"),n=R(t[1]),this.h()},l(r){e=w(r,"P",{class:!0});var i=k(e);n=z(i,t[1]),i.forEach(b),this.h()},h(){_(e,"class","status svelte-udgqd4")},m(r,i){G(r,e,i),h(e,n),s=!0},p(r,i){(!s||i&2)&&Le(n,r[1])},i(r){s||(r&&he(()=>{l||(l=ee(e,V,{},!0)),l.run(1)}),s=!0)},o(r){r&&(l||(l=ee(e,V,{},!1)),l.run(0)),s=!1},d(r){r&&b(e),r&&l&&l.end()}}}function rn(t){let e,n,l,s,r,i,a,f,c,m,o=t[0]!==""&&He(t);return{c(){e=D("div"),n=D("label"),l=R("Enter a message to send:"),s=N(),r=D("textarea"),i=N(),o&&o.c(),this.h()},l(d){e=w(d,"DIV",{class:!0});var g=k(e);n=w(g,"LABEL",{for:!0,class:!0});var p=k(n);l=z(p,"Enter a message to send:"),p.forEach(b),s=M(g),r=w(g,"TEXTAREA",{name:!0,id:!0,cols:!0,rows:!0,class:!0}),k(r).forEach(b),i=M(g),o&&o.l(g),g.forEach(b),this.h()},h(){_(n,"for","message"),_(n,"class","svelte-udgqd4"),_(r,"name","message"),_(r,"id","message"),_(r,"cols","30"),_(r,"rows","10"),_(r,"class","svelte-udgqd4"),_(e,"class","container svelte-udgqd4")},m(d,g){G(d,e,g),h(e,n),h(n,l),h(e,s),h(e,r),ke(r,t[0]),h(e,i),o&&o.m(e,null),f=!0,c||(m=L(r,"input",t[3]),c=!0)},p(d,[g]){g&1&&ke(r,d[0]),d[0]!==""?o?(o.p(d,g),g&1&&A(o,1)):(o=He(d),o.c(),A(o,1),o.m(e,null)):o&&(te(),C(o,1,1,()=>{o=null}),ne())},i(d){f||(A(o),a&&a.end(1),f=!0)},o(d){C(o),d&&(a=Ce(e,V,{})),f=!1},d(d){d&&b(e),o&&o.d(),d&&a&&a.end(),c=!1,m()}}}function sn(t,e,n){let l,s;$(t,we,c=>n(4,l=c)),$(t,Te,c=>n(5,s=c));let r="",i="";function a(c){let m={"Content-Type":"application/json",key:s},o={content:r,deleteAfter:void 0};l!==""&&(o.deleteAfter=l),fetch("/api/message",{method:"PUT",headers:m,body:JSON.stringify(o)}).then(d=>{d.ok?n(0,r=""):n(1,i=d.statusText)})}function f(){r=this.value,n(0,r)}return t.$$.update=()=>{t.$$.dirty&1&&r===""&&n(1,i="")},[r,i,a,f]}class an extends me{constructor(e){super(),pe(this,e,sn,rn,ge,{})}}function Xe(t){let e,n,l;var s=t[1].el;function r(i){return{}}return s&&(e=new s(r())),{c(){e&&ue(e.$$.fragment),n=Ne()},l(i){e&&Ae(e.$$.fragment,i),n=Ne()},m(i,a){e&&ce(e,i,a),G(i,n,a),l=!0},p(i,a){if(s!==(s=i[1].el)){if(e){te();const f=e;C(f.$$.fragment,1,0,()=>{de(f,1)}),ne()}s?(e=new s(r()),ue(e.$$.fragment),A(e.$$.fragment,1),ce(e,n.parentNode,n)):e=null}},i(i){l||(e&&A(e.$$.fragment,i),l=!0)},o(i){e&&C(e.$$.fragment,i),l=!1},d(i){i&&b(n),e&&de(e,i)}}}function ln(t){let e,n,l,s,r,i,a,f,c,m,o,d,g,p,v,y,E,I,B,F,P,K,J=t[1].name+"",H,re,ie,W,se,Q,ae,be,T=t[1].el&&Xe(t);return{c(){e=D("form"),n=D("h1"),l=R("Send an image or message!"),s=N(),r=D("span"),i=D("label"),a=R("Password:"),f=D("input"),c=N(),m=D("span"),o=D("label"),d=R("I want to send"),g=N(),p=D("select"),v=D("option"),y=R("an image"),E=D("option"),I=R("a message"),B=N(),F=D("span"),P=D("label"),K=R("I want to delete this "),H=R(J),re=R(" after:"),ie=N(),W=D("input"),se=N(),T&&T.c(),this.h()},l(O){e=w(O,"FORM",{class:!0});var S=k(e);n=w(S,"H1",{id:!0});var ye=k(n);l=z(ye,"Send an image or message!"),ye.forEach(b),s=M(S),r=w(S,"SPAN",{});var Y=k(r);i=w(Y,"LABEL",{for:!0,class:!0});var U=k(i);a=z(U,"Password:"),U.forEach(b),f=w(Y,"INPUT",{type:!0,name:!0,id:!0,class:!0}),Y.forEach(b),c=M(S),m=w(S,"SPAN",{});var Z=k(m);o=w(Z,"LABEL",{for:!0,class:!0});var le=k(o);d=z(le,"I want to send"),le.forEach(b),g=M(Z),p=w(Z,"SELECT",{name:!0,id:!0,class:!0});var oe=k(p);v=w(oe,"OPTION",{});var Ee=k(v);y=z(Ee,"an image"),Ee.forEach(b),E=w(oe,"OPTION",{});var u=k(E);I=z(u,"a message"),u.forEach(b),oe.forEach(b),Z.forEach(b),B=M(S),F=w(S,"SPAN",{});var q=k(F);P=w(q,"LABEL",{for:!0,class:!0});var j=k(P);K=z(j,"I want to delete this "),H=z(j,J),re=z(j," after:"),j.forEach(b),ie=M(q),W=w(q,"INPUT",{type:!0,name:!0,id:!0,class:!0}),q.forEach(b),se=M(S),T&&T.l(S),S.forEach(b),this.h()},h(){_(n,"id","formHeader"),_(i,"for","apiKey"),_(i,"class","svelte-f3tfm1"),_(f,"type","password"),_(f,"name","apiKey"),_(f,"id","apiKey"),_(f,"class","svelte-f3tfm1"),_(o,"for","input"),_(o,"class","svelte-f3tfm1"),v.__value=t[4][0],v.value=v.__value,E.__value=t[4][1],E.value=E.__value,_(p,"name","input"),_(p,"id","input"),_(p,"class","svelte-f3tfm1"),t[1]===void 0&&he(()=>t[7].call(p)),_(P,"for","ephemeral"),_(P,"class","svelte-f3tfm1"),_(W,"type","date"),_(W,"name","ephemeral"),_(W,"id","ephemeral"),_(W,"class","svelte-f3tfm1"),_(e,"class","svelte-f3tfm1")},m(O,S){G(O,e,S),h(e,n),h(n,l),h(e,s),h(e,r),h(r,i),h(i,a),h(r,f),ke(f,t[2]),h(e,c),h(e,m),h(m,o),h(o,d),h(m,g),h(m,p),h(p,v),h(v,y),h(p,E),h(E,I),Me(p,t[1]),h(e,B),h(e,F),h(F,P),h(P,K),h(P,H),h(P,re),h(F,ie),h(F,W),t[8](W),h(e,se),T&&T.m(e,null),Q=!0,ae||(be=[L(f,"input",t[6]),L(p,"change",t[7]),L(W,"change",t[3]),L(e,"submit",vt(t[5]))],ae=!0)},p(O,[S]){S&4&&f.value!==O[2]&&ke(f,O[2]),S&18&&Me(p,O[1]),(!Q||S&2)&&J!==(J=O[1].name+"")&&Le(H,J),O[1].el?T?(T.p(O,S),S&2&&A(T,1)):(T=Xe(O),T.c(),A(T,1),T.m(e,null)):T&&(te(),C(T,1,1,()=>{T=null}),ne())},i(O){Q||(A(T),Q=!0)},o(O){C(T),Q=!1},d(O){O&&b(e),t[8](null),T&&T.d(),ae=!1,$e(be)}}}let Pe=je({name:"loading...",el:void 0});function on(t,e,n){let l,s,r;$(t,Pe,g=>n(1,l=g)),$(t,we,g=>n(9,s=g)),$(t,Te,g=>n(2,r=g));let i;function a(g){if(i.valueAsDate){const p=i.valueAsDate;p.setDate(p.getDate()+1),p.setHours(24,0,0,0),Se(we,s=p.toISOString(),s)}else Se(we,s="",s)}let f=[{name:"image",el:nn},{name:"message",el:an}];et(()=>{Se(Pe,l=f[0],l)});function c(g){bt.call(this,t,g)}function m(){r=this.value,Te.set(r)}function o(){l=yt(this),Pe.set(l),n(4,f)}function d(g){Fe[g?"unshift":"push"](()=>{i=g,n(0,i)})}return[i,l,r,a,f,c,m,o,d]}class cn extends me{constructor(e){super(),pe(this,e,on,ln,ge,{})}}export{cn as default};
