import{S as T,i as V,s as D,e as v,t as I,k as A,c as g,a as E,h as N,d as p,m as P,b as m,g as y,I as b,N as $,E as C,v as H,P as J,j as K,a3 as O,l as j,q as k,o as w,p as U,X as Q,Z as q,$ as Y,O as x,n as B,w as F,x as G,y as W,B as X}from"../chunks/index-3329c335.js";function ee(a){let t,n;return{c(){t=v("p"),n=I(a[1])},l(e){t=g(e,"P",{});var l=E(t);n=N(l,a[1]),l.forEach(p)},m(e,l){y(e,t,l),b(t,n)},p(e,l){l&2&&K(n,e[1])},d(e){e&&p(t)}}}function te(a){let t,n;return{c(){t=v("img"),this.h()},l(e){t=g(e,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){O(t.src,n=a[1])||m(t,"src",n),m(t,"alt","A document"),m(t,"class","svelte-be3vzl")},m(e,l){y(e,t,l)},p(e,l){l&2&&!O(t.src,n=e[1])&&m(t,"src",n)},d(e){e&&p(t)}}}function le(a){let t,n,e,l,i,o;function s(u,_){return u[0]==="image"?te:ee}let c=s(a),r=c(a);return{c(){t=v("div"),n=v("span"),e=I("x"),l=A(),r.c(),this.h()},l(u){t=g(u,"DIV",{class:!0});var _=E(t);n=g(_,"SPAN",{class:!0});var d=E(n);e=N(d,"x"),d.forEach(p),l=P(_),r.l(_),_.forEach(p),this.h()},h(){m(n,"class","svelte-be3vzl"),m(t,"class","card svelte-be3vzl")},m(u,_){y(u,t,_),b(t,n),b(n,e),b(t,l),r.m(t,null),i||(o=$(n,"click",a[2]),i=!0)},p(u,[_]){c===(c=s(u))&&r?r.p(u,_):(r.d(1),r=c(u),r&&(r.c(),r.m(t,null)))},i:C,o:C,d(u){u&&p(t),r.d(),i=!1,o()}}}function ne(a){return new Uint8Array(a.split("").map(function(t){return t.charCodeAt(0)}))}function se(a,t,n){let{doc:e}=t,{kind:l}=t,{key:i}=t,o="";H(()=>{if(l==="image"){const r=ne(e.content);n(1,o=URL.createObjectURL(new Blob([r])))}else n(1,o=e.content)});const s=J();function c(r){fetch(`/api/delete/${e.path}`,{headers:{key:i}}),s("delete",{path:e.path})}return a.$$set=r=>{"doc"in r&&n(3,e=r.doc),"kind"in r&&n(0,l=r.kind),"key"in r&&n(4,i=r.key)},[l,o,c,e,i]}class Z extends T{constructor(t){super(),V(this,t,se,le,D,{doc:3,kind:0,key:4})}}function z(a,t,n){const e=a.slice();return e[4]=t[n],e}function re(a){let t,n;return t=new Z({props:{kind:"message",doc:a[4],key:a[0]}}),t.$on("delete",a[2]),{c(){F(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,l){W(t,e,l),n=!0},p(e,l){const i={};l&2&&(i.doc=e[4]),l&1&&(i.key=e[0]),t.$set(i)},i(e){n||(k(t.$$.fragment,e),n=!0)},o(e){w(t.$$.fragment,e),n=!1},d(e){X(t,e)}}}function oe(a){let t,n;return t=new Z({props:{kind:"image",doc:a[4],key:a[0]}}),t.$on("delete",a[2]),{c(){F(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,l){W(t,e,l),n=!0},p(e,l){const i={};l&2&&(i.doc=e[4]),l&1&&(i.key=e[0]),t.$set(i)},i(e){n||(k(t.$$.fragment,e),n=!0)},o(e){w(t.$$.fragment,e),n=!1},d(e){X(t,e)}}}function R(a){let t,n,e,l,i;const o=[oe,re],s=[];function c(r,u){return u&2&&(t=null),t==null&&(t=!!r[4].path.startsWith("/image")),t?0:1}return n=c(a,-1),e=s[n]=o[n](a),{c(){e.c(),l=j()},l(r){e.l(r),l=j()},m(r,u){s[n].m(r,u),y(r,l,u),i=!0},p(r,u){let _=n;n=c(r,u),n===_?s[n].p(r,u):(B(),w(s[_],1,1,()=>{s[_]=null}),U(),e=s[n],e?e.p(r,u):(e=s[n]=o[n](r),e.c()),k(e,1),e.m(l.parentNode,l))},i(r){i||(k(e),i=!0)},o(r){w(e),i=!1},d(r){s[n].d(r),r&&p(l)}}}function S(a){let t,n,e=a[1],l=[];for(let o=0;o<e.length;o+=1)l[o]=R(z(a,e,o));const i=o=>w(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=j()},l(o){for(let s=0;s<l.length;s+=1)l[s].l(o);t=j()},m(o,s){for(let c=0;c<l.length;c+=1)l[c].m(o,s);y(o,t,s),n=!0},p(o,s){if(s&7){e=o[1];let c;for(c=0;c<e.length;c+=1){const r=z(o,e,c);l[c]?(l[c].p(r,s),k(l[c],1)):(l[c]=R(r),l[c].c(),k(l[c],1),l[c].m(t.parentNode,t))}for(B(),c=e.length;c<l.length;c+=1)i(c);U()}},i(o){if(!n){for(let s=0;s<e.length;s+=1)k(l[s]);n=!0}},o(o){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)w(l[s]);n=!1},d(o){Q(l,o),o&&p(t)}}}function ae(a){let t,n,e,l,i,o,s,c=a[1],r,u,_,d=S(a);return{c(){t=v("form"),n=v("label"),e=I("Password:"),l=A(),i=v("input"),o=A(),s=v("div"),d.c(),this.h()},l(f){t=g(f,"FORM",{});var h=E(t);n=g(h,"LABEL",{for:!0,class:!0});var L=E(n);e=N(L,"Password:"),L.forEach(p),l=P(h),i=g(h,"INPUT",{id:!0,type:!0,class:!0}),h.forEach(p),o=P(f),s=g(f,"DIV",{class:!0});var M=E(s);d.l(M),M.forEach(p),this.h()},h(){m(n,"for","password"),m(n,"class","svelte-jtvudc"),m(i,"id","password"),m(i,"type","password"),m(i,"class","svelte-jtvudc"),m(s,"class","docs svelte-jtvudc")},m(f,h){y(f,t,h),b(t,n),b(n,e),b(t,l),b(t,i),q(i,a[0]),y(f,o,h),y(f,s,h),d.m(s,null),r=!0,u||(_=[$(i,"input",a[3]),$(t,"submit",Y(ce))],u=!0)},p(f,[h]){h&1&&i.value!==f[0]&&q(i,f[0]),h&2&&D(c,c=f[1])?(B(),w(d,1,1,C),U(),d=S(f),d.c(),k(d,1),d.m(s,null)):d.p(f,h)},i(f){r||(k(d),r=!0)},o(f){w(d),r=!1},d(f){f&&p(t),f&&p(o),f&&p(s),d.d(f),u=!1,x(_)}}}function ce(a){console.log("This will do something cool some day")}function ie(a,t,n){let e="",l=[];function i(s){n(1,l=l.filter(c=>c.path!==s.detail.path))}function o(){e=this.value,n(0,e)}return a.$$.update=()=>{a.$$.dirty&1&&fetch("/api/docs",{headers:{key:e}}).then(s=>{s.ok?s.json().then(c=>{n(1,l=Object.values(c))}):console.log(s)}).catch(s=>{console.log(s)})},[e,l,i,o]}class fe extends T{constructor(t){super(),V(this,t,ie,ae,D,{})}}export{fe as default};
